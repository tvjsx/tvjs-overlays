/*! TVJS Overlays - v0.2.3 - Sat Nov 21 2020
    https://github.com/tvjsx/trading-vue-js
    Copyright (c) 2020 c451 Code's All Right;
    Licensed under the MIT license */
!function(e,n){e["trading-vue-js"]||(e["trading-vue-js"]=e.TradingVueJs),"object"==typeof exports&&"object"==typeof module?module.exports=n(require("trading-vue-js")):"function"==typeof define&&define.amd?define(["trading-vue-js"],n):"object"==typeof exports?exports.TvjsOverlays=n(require("trading-vue-js")):e.TvjsOverlays=n(e["trading-vue-js"])}(self,(function(e){return(()=>{"use strict";var n={196:(e,n,t)=>{t.r(n),t.d(n,{ALMA:()=>s,ATR:()=>u,ATRp:()=>c,BB:()=>h,BBW:()=>p,CCI:()=>m,CMO:()=>_,COG:()=>g,DMI:()=>x,EMA:()=>A,HMA:()=>T,Histogram:()=>B,Ichimoku:()=>$,KC:()=>j,KCW:()=>K,LongShortTrades:()=>E,MACD:()=>G,MFI:()=>X,MOM:()=>J,PlotCross:()=>ee,ROC:()=>te,RSI:()=>oe,Ribbon:()=>se,SAR:()=>ue,SMA:()=>ce,SWMA:()=>he,Stoch:()=>me,TSI:()=>_e,VWMA:()=>ge,WilliamsR:()=>xe,default:()=>Ae});var r=t(954);function o(e,n,t,r,o,i,s,l){var u,a="function"==typeof e?e.options:e;if(n&&(a.render=n,a.staticRenderFns=t,a._compiled=!0),r&&(a.functional=!0),i&&(a._scopeId="data-v-"+i),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},a._ssrRegister=u):o&&(u=l?function(){o.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(a.functional){a._injectStyles=u;var c=a.render;a.render=function(e,n){return u.call(n),c(e,n)}}else{var f=a.beforeCreate;a.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:a}}var i=o({name:"ALMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Arnaud Legoux Moving Average"}},use_for:function(){return["ALMA"]},calc:function(){return{props:{length:{def:10,text:"Length"},offset:{def:.9,text:"Offset"},sigma:{def:5,text:"Sigma"}},conf:{renderer:"Spline"},update:"\n                    return alma(close, length, offset, sigma)[0]\n                "}}}},undefined,undefined,!1,null,null,null);i.options.__file="src/overlays/ALMA/ALMA.vue";const s=i.exports;var l=o({name:"ATR",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Average True Range"}},use_for:function(){return["ATR"]},calc:function(){return{props:{length:{def:15,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return atr(length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);l.options.__file="src/overlays/ATR/ATR.vue";const u=l.exports;var a=o({name:"ATRp",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Average True Range, %"}},use_for:function(){return["ATRp"]},calc:function(){return{props:{length:{def:15,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return 100 * atr(length)[0] / close[0]\n                "}}}},undefined,undefined,!1,null,null,null);a.options.__file="src/overlays/ATRp/ATRp.vue";const c=a.exports;var f=o({name:"BB",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Bollinger Bands"}},use_for:function(){return["BB"]},calc:function(){return{props:{length:{def:21,text:"Length"},stddev:{def:2,text:"StdDev"}},conf:{renderer:"Channel"},update:"\n                    let [m, h, l] = bb(close, length, stddev)\n                    return [h[0], m[0], l[0]]\n                "}}}},undefined,undefined,!1,null,null,null);f.options.__file="src/overlays/BB/BB.vue";const h=f.exports;var d=o({name:"BBW",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Bollinger Bands Width"}},use_for:function(){return["BBW"]},calc:function(){return{props:{length:{def:21,text:"Length"},stddev:{def:2,text:"StdDev"}},conf:{renderer:"Spline"},update:"\n                    return bbw(close, length, stddev)[0]\n                "}}}},undefined,undefined,!1,null,null,null);d.options.__file="src/overlays/BBW/BBW.vue";const p=d.exports;var v=o({name:"CCI",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Commodity Channel Index"}},use_for:function(){return["CCI"]},calc:function(){return{props:{length:{def:21,text:"Length"}},conf:{renderer:"Range"},update:"return cci(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);v.options.__file="src/overlays/CCI/CCI.vue";const m=v.exports;var S=o({name:"CMO",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Chande Momentum Oscillator"}},use_for:function(){return["CMO"]},calc:function(){return{props:{length:{def:10,text:"Length"}},conf:{renderer:"Spline"},update:"return cmo(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);S.options.__file="src/overlays/CMO/CMO.vue";const _=S.exports;var y=o({name:"COG",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Center of Gravity"}},use_for:function(){return["COG"]},calc:function(){return{props:{length:{def:10,text:"Length"}},conf:{renderer:"Spline"},update:"return cog(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);y.options.__file="src/overlays/COG/COG.vue";const g=y.exports;var k=o({name:"DMI",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Directional Movement Index"}},use_for:function(){return["DMI"]},calc:function(){return{props:{length:{def:15,text:"DI Length"},smooth:{def:15,text:"ADX Smothing"}},conf:{renderer:"Splines"},update:"\n                    let [adx, dp, dn] = dmi(length, smooth)\n                    return [adx[0], dp[0], dn[0]]\n                "}}}},undefined,undefined,!1,null,null,null);k.options.__file="src/overlays/DMI/DMI.vue";const x=k.exports;var b=o({name:"EMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Exponential Moving Average"}},use_for:function(){return["EMA"]},calc:function(){return{props:{length:{def:12,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return ema(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);b.options.__file="src/overlays/EMA/EMA.vue";const A=b.exports;var w=o({name:"HMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Hull Moving Average"}},use_for:function(){return["HMA"]},calc:function(){return{props:{length:{def:10,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return hma(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);w.options.__file="src/overlays/HMA/HMA.vue";const T=w.exports;function C(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return M(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw i}}}}function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var O=o({name:"Histogram",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Histogram plot"}},draw:function(e){e.lineWidth=this.line_width,e.strokeStyle=this.color,e.beginPath();var n,t=this.$props.layout,r=t.$2screen(0)+.5,o=this.line_width%2?0:.5,i=C(this.$props.data);try{for(i.s();!(n=i.n()).done;){var s=n.value,l=t.t2screen(s[0])-o,u=t.$2screen(s[1])-.5,a=!1;s[2]?(e.strokeStyle!==s[2]&&(e.stroke(),a=!0),e.strokeStyle=s[2]):(e.strokeStyle!==this.color&&(e.stroke(),a=!0),e.strokeStyle=this.color),a&&e.beginPath(),e.moveTo(l,r),e.lineTo(l,u)}}catch(e){i.e(e)}finally{i.f()}e.stroke()},use_for:function(){return["Histogram"]},legend:function(e){var n=e[1];return"number"==typeof n&&(n=n.toFixed(Math.abs(n)>.001?4:8)),[{value:n,color:e[2]||this.color}]}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||2},color:function(){var e=this.$props.num%5;return this.sett.color||this.COLORS[e]}},data:function(){return{COLORS:["#888888","#42b28a","#5691ce","#612ff9","#d50b90","#ff2316"]}}},undefined,undefined,!1,null,null,null);O.options.__file="src/overlays/Histogram/Histogram.vue";const B=O.exports;function R(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return W(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw i}}}}function W(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var I=o({name:"Ichimoku",mixins:[r.Overlay],data:function(){return{ctxTenkan:{},ctxKijun:{},ctxSenkouSpanA:{},ctxSenkouSpanB:{},ctxChinkou:{},ctxFillKumo:{},tenkan:[],kijun:[],senkouSpanA:[],senkouSpanB:[],chinkou:[],offset:26,tenkanLineWidth:1,kijunLineWidth:1,senkouSpanALineWidth:1,senkouSpanBLineWidth:1,chinkouLineWidth:1,colorTenkan:"#52A634",colorKijun:"#52A59D",colorSenkouSpanA:"#438625",colorSenkouSpanB:"#bd003c",colorChinkou:"#BF2A64",colorKumoUp:"#063f0f",colorKumoDown:"#391c19",showTenkan:!0,showKijun:!0,showSenkouSpanA:!0,showSenkouSpanB:!0,showChinkou:!0,showFillKumo:!0}},computed:{sett:function(){return this.$props.settings},tenkan_color:function(){return this.sett["tenkan-color"]||this.colorTenkan},kijun_color:function(){return this.sett["kijun-color"]||this.colorKijun},senkou_spanA_color:function(){return this.sett.senkou_spanA_color||this.colorSenkouSpanA},senkou_spanB_color:function(){return this.sett.senkou_spanB_color||this.colorSenkouSpanB},chinkou_color:function(){return this.sett.chinkou_color||this.colorChinkou},kumo_up_color:function(){return this.sett.kumo_up_color||this.colorKumoUp},kumo_down_color:function(){return this.sett.kumo_down_color||this.colorKumoDown},tenkan_line_width:function(){return this.sett.tenkan_line_width||this.tenkanLineWidth},kijun_line_width:function(){return this.sett.kijun_line_width||this.kijunLineWidth},senkou_spanA_line_width:function(){return this.sett.senkou_spanA_line_width||this.senkouSpanALineWidth},senkou_spanB_line_width:function(){return this.sett.senkou_spanB_line_width||this.senkouSpanBLineWidth},chinkou_line_width:function(){return this.sett.chinkou_line_width||this.chinkouLineWidth}},methods:{meta_info:function(){return{author:"Sudeep Batra",version:"1.0.0"}},draw:function(e){var n=this.$props.layout,t=this.$props.sub;this.ctxTenkan=e,this.ctxKijun=e,this.ctxSenkouSpanA=e,this.ctxSenkouSpanB=e,this.ctxChinkou=e,this.ctxFillKumo=e;var r=this.$props.data.slice(0,t.length),o=this.$props.data.slice(0,t.length+this.offset),i=this.$props.data.slice(0,t.length-this.offset);if(this.showFillKumo){this.ctxFillKumo.beginPath();var s,l=0,u=R(o);try{for(u.s();!(s=u.n()).done;){var a=s.value;if(l>1){var c=this.map_senkou_span_values(o[l-1]),f=this.map_senkou_span_values(a);this.ctxSenkouSpanB.beginPath(),this.ctxSenkouSpanB.moveTo(c.x,c.senkouSpanA),this.ctxSenkouSpanB.lineTo(f.x+.1,f.senkouSpanA),this.ctxSenkouSpanB.lineTo(f.x+.1,f.senkouSpanB),this.ctxSenkouSpanB.lineTo(c.x,c.senkouSpanB),c.senkouSpanA>=c.senkouSpanB?this.ctxSenkouSpanB.fillStyle=this.kumo_down_color:this.ctxSenkouSpanB.fillStyle=this.kumo_up_color,this.ctxSenkouSpanB.fill()}l++}}catch(e){u.e(e)}finally{u.f()}this.ctxSenkouSpanB.stroke()}if(this.showTenkan){this.ctxTenkan.beginPath();var h,d=R(r);try{for(d.s();!(h=d.n()).done;){var p=h.value;this.ctxTenkan.strokeStyle=this.tenkan_color,this.ctxTenkan.lineWidth=this.tenkan_line_width,this.ctxTenkan.lineTo(n.t2screen(p[0]),n.$2screen(p[1]))}}catch(e){d.e(e)}finally{d.f()}this.ctxTenkan.stroke()}if(this.showKijun){this.ctxKijun.beginPath();var v,m=R(r);try{for(m.s();!(v=m.n()).done;){var S=v.value;this.ctxKijun.strokeStyle=this.kijun_color,this.ctxKijun.lineWidth=this.kijun_line_width,this.ctxKijun.lineTo(n.t2screen(S[0]),n.$2screen(S[2]))}}catch(e){m.e(e)}finally{m.f()}this.ctxKijun.stroke()}if(this.showSenkouSpanA){this.ctxSenkouSpanA.beginPath();var _,y=R(o);try{for(y.s();!(_=y.n()).done;){var g=_.value;this.ctxSenkouSpanA.strokeStyle=this.senkou_spanA_color,this.ctxSenkouSpanA.lineWidth=this.senkou_spanA_line_width,this.ctxSenkouSpanA.lineTo(n.t2screen(g[0]),n.$2screen(g[3]))}}catch(e){y.e(e)}finally{y.f()}this.ctxSenkouSpanA.stroke()}if(this.colorSenkouSpanB){this.ctxSenkouSpanB.beginPath();var k,x=R(o);try{for(x.s();!(k=x.n()).done;){var b=k.value;this.ctxSenkouSpanB.strokeStyle=this.senkou_spanB_color,this.ctxSenkouSpanB.lineWidth=this.senkou_spanB_line_width,this.ctxSenkouSpanB.lineTo(n.t2screen(b[0]),n.$2screen(b[4]))}}catch(e){x.e(e)}finally{x.f()}this.ctxSenkouSpanB.stroke()}if(this.showChinkou){this.ctxChinkou.beginPath();var A,w=R(i);try{for(w.s();!(A=w.n()).done;){var T=A.value;this.ctxChinkou.strokeStyle=this.chinkou_color,this.ctxChinkou.lineWidth=this.chinkou_line_width,this.ctxChinkou.lineTo(n.t2screen(T[0]),n.$2screen(T[5]))}}catch(e){w.e(e)}finally{w.f()}this.ctxChinkou.stroke()}},map_senkou_span_values:function(e){var n=this.$props.layout;return e&&{x:n.t2screen(e[0]),senkouSpanA:n.$2screen(e[3]),senkouSpanB:n.$2screen(e[4])}},use_for:function(){return["Ichimoku"]},data_colors:function(){var e=[];return e.push(this.tenkan_color),e.push(this.kijun_color),e.push(this.senkou_spanA_color),e.push(this.senkou_spanB_color),e.push(this.chinkou_color),e}}},undefined,undefined,!1,null,null,null);I.options.__file="src/overlays/Ichimoku/Ichimoku.vue";const $=I.exports;var L=o({name:"KC",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Keltner Channels"}},use_for:function(){return["KC"]},calc:function(){return{props:{length:{def:20,text:"Length"},mult:{def:1,text:"Multiplier"},use_tr:{def:!0,text:"Use True Range"}},conf:{renderer:"Channel"},update:"\n                    let [m, h, l] = kc(close, length, mult, use_tr)\n                    return [h[0], m[0], l[0]]\n                "}}}},undefined,undefined,!1,null,null,null);L.options.__file="src/overlays/KC/KC.vue";const j=L.exports;var P=o({name:"KCW",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Keltner Channels Width"}},use_for:function(){return["KCW"]},calc:function(){return{props:{length:{def:20,text:"Length"},mult:{def:1,text:"Multiplier"},use_tr:{def:!0,text:"Use True Range"}},conf:{renderer:"Spline"},update:"\n                    return kcw(close, length, mult, use_tr)[0]\n                "}}}},undefined,undefined,!1,null,null,null);P.options.__file="src/overlays/KCW/KCW.vue";const K=P.exports;function q(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return D(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw i}}}}function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var F=o({name:"LongShortTrades",mixins:[r.Overlay],computed:{sett:function(){return this.$props.settings},default_font:function(){return"12px "+this.$props.font.split("px").pop()},currency_symbol:function(){return this.sett.currency||"â‚¹"},long_color:function(){return this.sett.longColor||"#63df89"},short_color:function(){return this.sett.shortColor||"#ffd581"},long_cover_color:function(){return this.sett.longCoverColor||"#fc7e2f"},short_cover_color:function(){return this.sett.shortCoverColor||"#ff6bd6"},label_color:function(){return"#4BECF9"},marker_size:function(){return this.sett.markerSize||5},show_label:function(){return!1!==this.sett.showLabel},new_font:function(){return this.sett.font||this.default_font}},methods:{meta_info:function(){return{author:"Sudeep Batra",version:"1.0.1"}},draw:function(e){var n=this.$props.layout;e.lineWidth=1.5,e.strokeStyle="black";var t,r=q(this.$props.data);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o[0],s=o[1],l=o[2],u=o[3],a=(o[4],o[5]),c=o[6],f=o[7],h=n.t2screen(i),d=n.$2screen(c),p=n.$2screen(a);switch(s){case 0:this.filledArrowDownFilledBottom(e,h,p-25,5,5,3,20,this.short_color),this.draw_label(e,h+30,p-35,this.currency_symbol+f);break;case 1:this.filledArrowUpFilledBottom(e,h,d+20,5,5,3,20,this.long_color),this.draw_label(e,h+30,d+40,this.currency_symbol+f);break;case 2:this.upTriangle(e,h,d+25,5,7,this.short_cover_color),this.show_label&&l&&this.draw_label(e,h,d+50,l+" ("+u+")");break;case 3:this.downTriangle(e,h,p-25,5,7,this.long_cover_color),this.show_label&&l&&this.draw_label(e,h,p-45,l+" ("+u+")");break;default:e.fillStyle="black"}}}catch(e){r.e(e)}finally{r.f()}},draw_label:function(e,n,t,r){e.fillStyle=this.label_color,e.font=this.new_font,e.textAlign="center",e.fillText(r,n,t)},use_for:function(){return["LongShortTrades"]},legend:function(e){switch(e[1]){case 0:var n="Short";break;case 1:n="Long";break;case 2:n="Short Cover";break;case 3:n="Long Cover";break;default:n="Unknown"}return[{value:n},{value:e[2].toFixed(4),color:this.$props.colors.colorText}].concat(e[3]?[{value:e[3]}]:[])},simpleArrowUp:function(e,n,t,r){e.beginPath(),e.fillStyle=r,e.strokeStyle=r,e.moveTo(n-5,t+5),e.lineTo(n,t),e.lineTo(n+5,t+5),e.moveTo(n,t),e.lineTo(n,t+15),e.stroke(),e.closePath()},simpleArrowDown:function(e,n,t,r){e.beginPath(),e.fillStyle=r,e.strokeStyle=r,e.moveTo(n-5,t-5),e.lineTo(n,t),e.lineTo(n+5,t-5),e.moveTo(n,t),e.lineTo(n,t-15),e.stroke(),e.closePath()},filledArrowUp:function(e,n,t,r,o,i,s){e.beginPath(),e.fillStyle=s,e.strokeStyle=s,e.moveTo(n-r,t+o),e.lineTo(n,t),e.lineTo(n+r,t+o),e.moveTo(n,t),e.lineTo(n,t+i),e.fill(),e.stroke(),e.closePath()},filledDownArrow:function(e,n,t,r,o,i,s){e.beginPath(),e.fillStyle=s,e.strokeStyle=s,e.moveTo(n-r,t-o),e.lineTo(n,t),e.lineTo(n+r,t-o),e.moveTo(n,t),e.lineTo(n,t-i),e.fill(),e.stroke(),e.closePath()},filledArrowUpFilledBottom:function(e,n,t,r,o,i,s,l){e.beginPath(),e.fillStyle=l,e.strokeStyle=l,e.moveTo(n-r,t+o),e.lineTo(n,t),e.lineTo(n+r,t+o),e.moveTo(n,t),e.rect(n-i/2,t+o,i,s),e.fill(),e.stroke(),e.closePath()},filledArrowDownFilledBottom:function(e,n,t,r,o,i,s,l){e.beginPath(),e.fillStyle=l,e.strokeStyle=l,e.moveTo(n-r,t-o),e.lineTo(n,t),e.lineTo(n+r,t-o),e.moveTo(n,t),e.rect(n-i/2,t-o-s,i,s),e.fill(),e.stroke(),e.closePath()},upTriangle:function(e,n,t,r,o,i){e.beginPath(),e.fillStyle=i,e.strokeStyle=i,e.moveTo(n-r,t+o),e.lineTo(n,t),e.lineTo(n+r,t+o),e.fill(),e.stroke(),e.closePath()},downTriangle:function(e,n,t,r,o,i){e.beginPath(),e.fillStyle=i,e.strokeStyle=i,e.moveTo(n-r,t-o),e.lineTo(n,t),e.lineTo(n+r,t-o),e.fill(),e.stroke(),e.closePath()}}},undefined,undefined,!1,null,null,null);F.options.__file="src/overlays/LongShortTrades/LongShortTrades.vue";const E=F.exports;function U(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return H(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw i}}}}function H(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var V=o({name:"MACD",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.1",desc:"Moving Average Convergence/Divergence"}},draw:function(e){var n=this.$props.layout,t=n.$2screen(0)+.5,r=this.hist_width%2?0:.5;e.lineWidth=this.hist_width,e.strokeStyle=this.color,e.beginPath();var o,i=U(this.$props.data);try{for(i.s();!(o=i.n()).done;){var s=o.value,l=n.t2screen(s[0])-r,u=n.$2screen(s[1])-.5,a=!1;s[4]?(e.strokeStyle!==s[4]&&(e.stroke(),a=!0),e.strokeStyle=s[4]):(e.strokeStyle!==this.color&&(e.stroke(),a=!0),e.strokeStyle=this.color),a&&e.beginPath(),e.moveTo(l,t),e.lineTo(l,u)}}catch(e){i.e(e)}finally{i.f()}e.stroke(),e.beginPath(),e.lineWidth=this.macd_width,e.strokeStyle=this.macd_color;var c,f=U(this.$props.data);try{for(f.s();!(c=f.n()).done;){s=c.value;var h=n.t2screen(s[0]),d=n.$2screen(s[2]);e.lineTo(h,d)}}catch(e){f.e(e)}finally{f.f()}e.stroke(),e.beginPath(),e.lineWidth=this.signal_width,e.strokeStyle=this.signal_color;var p,v=U(this.$props.data);try{for(v.s();!(p=v.n()).done;){s=p.value;var m=n.t2screen(s[0]),S=n.$2screen(s[3]);e.lineTo(m,S)}}catch(e){v.e(e)}finally{v.f()}e.stroke()},use_for:function(){return["MACD"]},legend:function(e){var n=e.slice(1,4).map((function(e){return e.toFixed(Math.abs(e)>.001?4:8)}));return[{value:n[0],color:e[4]},{value:n[1],color:this.macd_color},{value:n[2],color:this.signal_color}]},calc:function(){return{props:{fast:{def:12,text:"Fast Length"},slow:{def:26,text:"Slow Length"},smooth:{def:9,text:"Signal EMA"},histColors:{def:[],text:"Colors"}},update:"\n                    let [macd, signal, hist] =\n                        macd(close, fast, slow, smooth)\n\n                    if (hist[0] >= 0) {\n                         var color = histColors[0]\n                         if (hist[0] < hist[1]) color = histColors[1]\n                    } else {\n                        color = histColors[2]\n                        if (hist[0] > hist[1]) color = histColors[3]\n                    }\n\n                    return [hist[0], macd[0], signal[0], color]\n                "}}},computed:{sett:function(){return this.$props.settings},hist_width:function(){return this.sett.histWidth||4},macd_width:function(){return this.sett.macdWidth||1},signal_width:function(){return this.sett.signalWidth||1},color:function(){return this.sett.defColor||"#42b28a"},macd_color:function(){return this.sett.macdColor||"#3782f2"},signal_color:function(){return this.sett.signalColor||"#f48709"},hist_colors:function(){return this.sett.histColors}}},undefined,undefined,!1,null,null,null);V.options.__file="src/overlays/MACD/MACD.vue";const G=V.exports;var N=o({name:"MFI",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Money Flow Index"}},use_for:function(){return["MFI"]},calc:function(){return{props:{length:{def:14,text:"Length"}},conf:{renderer:"Range"},update:"\n                    let hlc3 = ts((high[0] + low[0] + close[0]) / 3)\n                    return mfi(hlc3, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);N.options.__file="src/overlays/MFI/MFI.vue";const X=N.exports;var z=o({name:"MOM",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Momentum"}},use_for:function(){return["MOM"]},calc:function(){return{props:{length:{def:11,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return mom(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);z.options.__file="src/overlays/MOM/MOM.vue";const J=z.exports;function Q(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return Y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Y(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw i}}}}function Y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Z=o({name:"PlotCross",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Plot line with crosses"}},draw:function(e){var n=e.lineWidth=this.line_width;e.strokeStyle=this.color,e.beginPath();var t,r=this.$props.layout,o=(r.$2screen(0),this.line_width%2?0:.5),i=this.line_width%2?.5:1,s=Q(this.$props.data);try{for(s.s();!(t=s.n()).done;){var l=t.value,u=r.t2screen(l[0])-o,a=r.$2screen(l[1])-o,c=!1;l[2]?(e.strokeStyle!==l[2]&&(e.stroke(),c=!0),e.strokeStyle=l[2]):(e.strokeStyle!==this.color&&(e.stroke(),c=!0),e.strokeStyle=this.color),c&&e.beginPath(),e.moveTo(u,a-2*n+i),e.lineTo(u,a+2*n-i),e.moveTo(u-2*n+i,a),e.lineTo(u+2*n-i,a)}}catch(e){s.e(e)}finally{s.f()}e.stroke()},use_for:function(){return["PlotCross"]},legend:function(e){var n=e[1];return"number"==typeof n&&(n=n.toFixed(Math.abs(n)>.001?4:8)),[{value:n,color:e[2]||this.color}]}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||2},color:function(){var e=this.$props.num%5;return this.sett.color||this.COLORS[e]}},data:function(){return{COLORS:["#888888","#42b28a","#5691ce","#612ff9","#d50b90","#ff2316"]}}},undefined,undefined,!1,null,null,null);Z.options.__file="src/overlays/PlotCross/PlotCross.vue";const ee=Z.exports;var ne=o({name:"ROC",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Rate of Change"}},use_for:function(){return["ROC"]},calc:function(){return{props:{length:{def:9,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return roc(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);ne.options.__file="src/overlays/ROC/ROC.vue";const te=ne.exports;var re=o({name:"RSI",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Relative Strength Index"}},use_for:function(){return["RSI"]},calc:function(){return{props:{length:{def:14,text:"Length"}},conf:{renderer:"Range"},update:"return rsi(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);re.options.__file="src/overlays/RSI/RSI.vue";const oe=re.exports;var ie=o({name:"Ribbon",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Moving Average Ribbon"}},use_for:function(){return["Ribbon"]},calc:function(){return{props:{start:{def:10,text:"Start Length"},number:{def:5,text:"Number of Lines"},step:{def:10,text:"Length Step"}},conf:{renderer:"Splines"},update:"\n                    this[0] = []\n                    for (var i = 0; i < number; i++) {\n                        let l = start + i * step\n                        this[0].push(ema(close, l)[0])\n                    }\n                "}}}},undefined,undefined,!1,null,null,null);ie.options.__file="src/overlays/Ribbon/Ribbon.vue";const se=ie.exports;var le=o({name:"SAR",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Parabolic SAR"}},use_for:function(){return["SAR"]},calc:function(){return{props:{start:{def:.02,text:"Start"},inc:{def:.02,text:"Increment"},max:{def:.2,text:"Maximum"}},conf:{renderer:"PlotCross"},update:"\n                    return sar(start, inc, max)[0]\n                "}}}},undefined,undefined,!1,null,null,null);le.options.__file="src/overlays/SAR/SAR.vue";const ue=le.exports;var ae=o({name:"SMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Simple Moving Average"}},use_for:function(){return["SMA"]},calc:function(){return{props:{length:{def:25,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return sma(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);ae.options.__file="src/overlays/SMA/SMA.vue";const ce=ae.exports;var fe=o({name:"SWMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Symmetrically Weighted Moving Average"}},use_for:function(){return["SWMA"]},calc:function(){return{props:{},conf:{renderer:"Spline"},update:"\n                    return swma(close)[0]\n                "}}}},undefined,undefined,!1,null,null,null);fe.options.__file="src/overlays/SWMA/SWMA.vue";const he=fe.exports;function de(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return pe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pe(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw i}}}}function pe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var ve=o({name:"Stoch",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Stochastic"}},draw:function(e){var n=this.$props.layout,t=n.$2screen(this.sett.upper||80),r=n.$2screen(this.sett.lower||20);e.lineWidth=this.line_width,e.strokeStyle=this.k_color,e.beginPath();var o,i=de(this.$props.data);try{for(i.s();!(o=i.n()).done;){var s=o.value,l=n.t2screen(s[0]),u=n.$2screen(s[1]);e.lineTo(l,u)}}catch(e){i.e(e)}finally{i.f()}e.stroke(),e.lineWidth=this.line_width,e.strokeStyle=this.d_color,e.beginPath();var a,c=de(this.$props.data);try{for(c.s();!(a=c.n()).done;){s=a.value;var f=n.t2screen(s[0]),h=n.$2screen(s[2]);e.lineTo(f,h)}}catch(e){c.e(e)}finally{c.f()}e.stroke(),e.strokeStyle=this.band_color,e.setLineDash([5]),e.beginPath(),e.fillStyle=this.back_color,e.fillRect(0,t,n.width,r-t),e.moveTo(0,t),e.lineTo(n.width,t),e.moveTo(0,r),e.lineTo(n.width,r),e.stroke()},use_for:function(){return["Stoch"]},data_colors:function(){return[this.color]},y_range:function(e,n){return[Math.max(e,this.sett.upper||80),Math.min(n,this.sett.lower||20)]},calc:function(){return{props:{param_k:{def:14,text:"K"},param_d:{def:3,text:"D"},smooth:{def:3,text:"Smooth"}},update:"\n                    let k = sma(stoch(close, high, low, param_k), smooth)\n                    let d = sma(k, param_d)\n                    return [k[0], d[0]]\n                "}}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||.75},k_color:function(){return this.sett.kColor||"#3782f2"},d_color:function(){return this.sett.dColor||"#f48709"},band_color:function(){return this.sett.bandColor||"#ddd"},back_color:function(){return this.sett.backColor||"#381e9c16"}}},undefined,undefined,!1,null,null,null);ve.options.__file="src/overlays/Stoch/Stoch.vue";const me=ve.exports;var Se=o({name:"TSI",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"True Strength Index"}},use_for:function(){return["TSI"]},calc:function(){return{props:{long:{def:25,text:"Long Length"},short:{def:13,text:"Short Length"},signal:{def:13,text:"Signal Length"}},conf:{renderer:"Splines"},update:"\n                    let val = tsi(close, short, long)\n                    let sig = ema(val, signal)\n                    return [val[0] * 100, sig[0] * 100]\n                "}}}},undefined,undefined,!1,null,null,null);Se.options.__file="src/overlays/TSI/TSI.vue";const _e=Se.exports;var ye=o({name:"VWMA",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Volume Weighted Moving Average"}},use_for:function(){return["VWMA"]},calc:function(){return{props:{length:{def:20,text:"Length"}},conf:{renderer:"Range"},update:"\n                    return vwma(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);ye.options.__file="src/overlays/VWMA/VWMA.vue";const ge=ye.exports;var ke=o({name:"WilliamsR",mixins:[r.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Williams %R"}},use_for:function(){return["WilliamsR"]},calc:function(){return{props:{length:{def:14,text:"Length"}},conf:{renderer:"Range"},update:"\n                    return wpr(length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);ke.options.__file="src/overlays/WilliamsR/WilliamsR.vue";const xe=ke.exports;var be={ALMA:s,ATR:u,ATRp:c,BB:h,BBW:p,CCI:m,CMO:_,COG:g,DMI:x,EMA:A,HMA:T,Histogram:B,Ichimoku:$,KC:j,KCW:K,LongShortTrades:E,MACD:G,MFI:X,MOM:J,PlotCross:ee,ROC:te,RSI:oe,Ribbon:se,SAR:ue,SMA:ce,SWMA:he,Stoch:me,TSI:_e,VWMA:ge,WilliamsR:xe};"undefined"!=typeof window&&window.Vue&&(window.TvjsOverlays=be);const Ae=be},954:n=>{n.exports=e}},t={};function r(e){if(t[e])return t[e].exports;var o=t[e]={exports:{}};return n[e](o,o.exports,r),o.exports}return r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(196)})()}));
//# sourceMappingURL=tvjs-overlays.min.js.map